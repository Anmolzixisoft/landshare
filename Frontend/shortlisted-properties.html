<!DOCTYPE html>
<html lang="en">

<head>
    <script src="utils.js"></script>

    <meta charset="utf-8">
    <title>Agrocorp- Landshare India (P) Limited.</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Saira:wght@500;600;700&display=swap"
        rel="stylesheet">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <link href="css/bootstrap.min.css" rel="stylesheet">

    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="css/login-style.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="css/myresponsive.css">
</head>

<body>

    <div id="spinner"
        class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-grow text-primary" role="status"></div>
    </div>

    <div class="container-fluid fixed-top px-0 wow fadeIn" data-wow-delay="0.1s">
        <nav class="navbar navbar-expand-lg navbar-dark py-lg-0 px-lg-5 wow fadeIn" data-wow-delay="0.1s">
            <div style="padding-top: 15px;">
                <a href="index.html" class="navbar-brand ms-4 ms-lg-0 py-6">
                    <img src="img/landshare-logo.png">
                </a>
            </div>
            <div class="btnloginflex">
                <a href="" id="circle"></a>

                <a href="#" id="loginLogoutButton" class="nav-item nav-link"><b></b>&nbsp;&nbsp;<i
                        class="fa fa-arrow-right"></i></a>
                <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse"
                    data-bs-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <div class="navbar-nav ms-auto p-4 p-lg-0">
                        <a id="Home"></a>
                        <a id="profile"></a>
                        <a id="Opportunity"></a>
                        <a id="Sortlist"></a>
                        <a id="My-Property"></a>
                        <a id="Enquiries"></a>
                        <a id="Know"></a>
                        <a id="Support"></a>
                        <a id="press-room"></a>
                        <a id="blog"></a>
                        <a id="Connect"></a>
                    </div>
                </div>
            </div>

        </nav>
    </div>



    <div class="container-fluid page-header mb-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container text-center">
            <h1 class="display-4  animated slideInDown mb-4">My Short Listed Properties</h1>

        </div>
    </div>

    <div class="container-xxl ">
        <div class="container ">

            <div class="row  align-items-start" id="property-listings"></div>

        </div>
    </div>

    <div class="container-fluid bg-dark-1 text-white footer mt-5  wow fadeIn" data-wow-delay="0.1s">
        <div class="container ">
            <div class="row g-5" style="font-size:12px !important;">
                <div class="col-lg-3 col-md-6">
                    <div class=" pt-1">
                        <h3 class="text-light mb-4">Corporate Office</h3>
                        <p>
                            1st Floor, 90, BELLARY ROAD, BYATARAYANPURA,<br> Bengaluru (Bangalore) Urban, Karnataka,
                            560092</p><br>
                        <i class="fa fa-phone-alt me-3"></i>Enquiries: (+91) 9540 03 0303<br>
                        <i class="fa fa-envelope me-3"></i>info@landshareindia.com</p>
                    </div>
                    <div class="d-flex pt-2">
                        <a class="btn btn-square me-1" target="_blank" href="https://www.facebook.com/landshareindia"><i
                                class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-square me-1" target="_blank"
                            href="https://www.youtube.com/channel/UCN1Y1BSKrRyCkrroPSqAPaw"><i
                                class="fab fa-youtube"></i></a>
                        <a class="btn btn-square me-1" target="_blank"
                            href="https://www.linkedin.com/company/90611397/admin/feed/posts/"><i
                                class="fab fa-linkedin-in"></i></a>
                        <a class="btn btn-square me-0" target="_blank"
                            href="https://www.instagram.com/landshare.india"><i class='fab fa-instagram'></i></a>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 ">
                    <h3 class="text-light mb-4">Our Companies</h3>
                    <p>Landshare India Private Limited<br>
                        Agrocorp Landbase Private Limited<br>
                        Agrocorp Landshare India Private Limited<br>

                        Logical Farmer Private Limited<br>
                        ALPL One Private Limited</p>
                </div>
                <div class="col-lg-3 col-md-6 text-white">
                    <h3 class="text-light mb-4">What we do</h3>
                    <p><a href="farm-communities" style="color:#fff !important;" target="_blank">Land Acquisition &
                            Sale</a><br>
                        <a href="landshare" style="color:#fff !important;" target="_blank">Transaction Advisory
                            Services</a><br>
                        <a href="residential" style="color:#fff !important;" target="_blank">Asset Management
                            Services</a><br>
                        <a href="residential" style="color:#fff !important;" target="_blank">Title Due Diligence</a><br>
                        <a href="residential" style="color:#fff !important;" target="_blank">Prime & Opulent Investment
                            Locations</a><br>
                        <a href="residential" style="color:#fff !important;" target="_blank">Legal & Policy Research</a>
                    </p>

                </div>
                <div class="col-lg-3 col-md-6">
                    <h3 class="text-light mb-4">Quick Links</h3>
                    <p><a href="https://www.agrocorp.co.in" style="color:#fff !important;">Home</a><br>
                        <a href="about" style="color:#fff !important;">Know Us</a><br>
                        <a href="https://landshareindia.com/demo/what-we-offer.html" style="color:#fff !important;">What
                            We Do</a><br>
                        <a href="https://landshareindia.com/demo/investing-opportunity.html"
                            style="color:#fff !important;">Investment Opportunitiess</a><br>
                        <a href="https://landshareindia.com/demo/media.html" style="color:#fff !important;">Press
                            Room</a><br>
                        <a href="https://landshareindia.com/demo/clients.html" style="color:#fff !important;">Our
                            Clients</a><br>
                        <a href="contact" style="color:#fff !important;">Contact Us</a><br>
                        <a href="faq" style="color:#fff !important;">FAQ</a><br>
                        <a href="privacy-policy" style="color:#fff !important;">Privacy Policy</a><br>
                        <a href="disclaimer" style="color:#fff !important;">Disclaimer</a><br>
                        <a href="sitemap" style="color:#fff !important;">Sitemap</a>
                    </p>


                </div>
            </div>
        </div>

        <div class="container-fluid copyright">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                        &copy; <a class="border-bottom" href="https://www.landshareindia.com"
                            style="color:white !important;">Landshare India Pvt. Ltd</a>, All Right Reserved.
                    </div>

                </div>
            </div>
        </div>
    </div>
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>


    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/parallax/parallax.min.js"></script>

    <script src="js/main.js"></script>
    <script src="js/login-script.js"></script>
    <script>
        var token = localStorage.getItem('token');
        var loginLogoutButton = $('#loginLogoutButton');
        var circle = $('#circle')
        var profile = $('#profile')
        var Opportunity = $('#Opportunity')
        var Sortlist = $('#Sortlist')
        var sellproperty = $('#My-Property')
        var home = $('#Home')
        var Support = $('#Support')
        var Know = $('#Know')
        var press = $('#press-room')
        var blog = $('#blog')
        var Connect = $('#Connect')

        const userId = localStorage.getItem('userId')
        function fetchData() {
            const postData = {
                user_id: userId,
            };
            const api = apiUrl + '/getsortlist';
            fetch(api, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json', // Set the content type to JSON
                },
                body: JSON.stringify(postData), // Convert your data to JSON format
            })
                .then(response => {
                    if (response.ok) {
                        return response.json();
                    } else {
                        throw new Error('Failed to fetch data');
                    }
                })
                .then(data => {
                    data.data.forEach(property => {
                        if (property.status == 1) {
                            const propertyListing = createPropertyListing(property);
                            propertyListingsContainer.appendChild(propertyListing);
                        }
                    });
                    document.getElementById('spinner').style.display = 'none';
                })
                .catch(error => {
                    console.error('There was a problem with the fetch operation:', error);
                });
        }

        const propertyListingsContainer = document.getElementById('property-listings');

        function createPropertyListing(property) {
            console.log(property);
            const container = document.createElement('div');
            container.classList.add('product-inner', 'mb-5', 'col-md-8', 'mx-auto', 'g-5');
            container.innerHTML = `
            <div class="product-im col-md-3-1 position-relative">
                <div class="image-container">
                    <img src="${property.images[0]}" style="width: 100% !important; border-radius: 10px;" class="${property.sold == 1 ? 'blurred-image' : ''}">
        ${property.sold == 1 ? '<span class="sold-out-label">Sold Out</span>' : ''}
                </div>
            </div>

        <div class="product-cnt col-md-8">
            <p style="font-size:18px;">${property.landmark}</p>
            <p style="font-size:14px;">
                Residential Plots - ${property.cost_per_squre_fit
                } <br>
                Property Size: ${property.size_of_land}<br>
                Type: ${property.property_category_select}
            </p>
            <span class="product-but col-lg-5 but-sy">
                    <span class="short"><i  class="${property.status == 0 ? 'fa-regular fa-heart' : 'fa fa-heart'}" id="heart-icon" onclick="toggleHeart(${property.property_id},${property.status == 0 ? 1 : 0})"></i></span>
                    <button class="btn btn-primary view-details-button" data-property-id="${property.id}" onclick="viewPropertyDetails(${property.property_id})">View Property Details</button>
                </span>
            
        </div>
    `;

            return container;
        }

        window.onload = fetchData;

        function viewPropertyDetails(propertyId) {
            // Construct the URL with the query parameter
            const url = `buy.html?id=${propertyId}`;

            // Redirect to the URL
            window.location.href = url;
        }

        function toggleHeart(property_id, sortlist_status) {
            var heartIcon = document.getElementById("heart-icon");

            if (heartIcon) {

                const postData = {
                    property_id: property_id,
                    user_id: user_id,
                    status: sortlist_status

                };

                fetch(apiUrl + '/sortlist', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(postData),
                })
                    .then(response => response.json())
                    .then(data => {
                        window.location.href = 'shortlisted-properties.html'
                    })
                    .catch(error => {
                        Swal.fire({
                            icon: 'error',
                            title: 'Error',
                            text: error,
                        });
                    });
            }

        }


        if (token) {
            loginLogoutButton.html('<b>Logout</b>&nbsp;&nbsp;<i class="fa fa-arrow-right"></i>');

            loginLogoutButton.click(function () {
                localStorage.removeItem('userId');
                localStorage.removeItem('token');
                window.location.href = 'index.html';
            });
            profile.html('<a href="my-profile.html" class="nav-item nav-link"> My Profile </a>')
            Opportunity.html('<a href="my-uploads.html" class="nav-item nav-link "> My Listings</a>')
            Sortlist.html('<a href="shortlisted-properties.html" class="nav-item nav-link "> My Shortlists</a>')
            Support.html('<a href="my-profile.html" class="nav-item nav-link"> Support</a>')
            sellproperty.html('<a href="investing-opportunity.html" class="nav-item nav-link ">Sell Property</a>')
            circle.html('<a href="my-profile.html" id="circle" class="d-inline-flex btn-sm-square bg-primary text-white rounded-circle ms-2"></a>')
        } 
        else {
            loginLogoutButton.html('<b>Login</b>&nbsp;&nbsp;<i class="fa fa-arrow-right"></i>');
            loginLogoutButton.attr('href', 'login-form.html');
            home.html(' <a href="index.html" class="nav-item nav-link ">Home</a>')
            Know.html('<a href="about.html" class="nav-item nav-link ">Know Us</a>')
            press.html('<a href="media.html" class="nav-item nav-link ">press-room</a>')
            blog.html(' <a href="contact.html" class="nav-item nav-link">Blog</a>')
            Connect.html(' <a href="contact.html" class="nav-item nav-link">Connect</a>')
        }
        function getname() {
            const userData = {
                userid: userId
            };
            fetch(apiUrl + '/getuserName', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(userData)
            })
                .then(response => response.json())
                .then(data => {
                    const name = data.message[0].name;
                    const firstLetter = name.charAt(0).toUpperCase();
                    const elementToReplace = document.querySelector('.d-inline-flex.btn-sm-square.bg-primary.text-white.rounded-circle.ms-2');

                    if (elementToReplace) {
                        elementToReplace.textContent = firstLetter;
                    }
                })
                .catch(error => {

                });
        }
        getname()
    </script>
</body>

</html>