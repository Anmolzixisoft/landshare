<!DOCTYPE html>
<html lang="en">

<head>
    <script src="utils.js"></script>

    <style>
        .required {
            color: red;
            margin-left: 5px;
            /* Add space between label text and asterisk */
        }

        .error-text {
            color: red;
        }
    </style>
    <meta charset="utf-8">
    <title>Agrocorp- Landshare India (P) Limited.</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Saira:wght@500;600;700&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="css/login-style.css">
    <!-- Remix Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10/dist/sweetalert2.min.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="css/myresponsive.css">

</head>

<body>
    <!-- Spinner Start -->
    <div id="spinner"
        class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-grow text-primary" role="status"></div>
    </div>
    <!-- Spinner End -->


    <!-- Navbar Start -->
    <div class="container-fluid fixed-top px-0 wow fadeIn" data-wow-delay="0.1s">
        <nav class="navbar navbar-expand-lg navbar-dark py-lg-0 px-lg-5 wow fadeIn" data-wow-delay="0.1s">
            <div style="padding-top: 15px;">
                <a href="index.html" class="navbar-brand ms-4 ms-lg-0 py-6">
                    <img src="img/landshare-logo.png">
                </a>
            </div>
            <div style="display: inline-flex;">
                <a href="#" id="loginLogoutButton" class="nav-item nav-link"><b></b>&nbsp;&nbsp;<i
                        class="fa fa-arrow-right"></i></a>
                <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse"
                    data-bs-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <div class="navbar-nav ms-auto p-4 p-lg-0">
                        <a href="index.html" class="nav-item nav-link ">Home</a>
                        <a href="investing-opportunity.html" class="nav-item nav-link ">Opportunity</a>
                        <a href="contact.html" class="nav-item nav-link">Connect</a>
                        <a href="" class="nav-item nav-link">Press-Room</a>
                        <a href="press-room.html" class="nav-item nav-link ">Blog</a>

                        <a href="enquire.html" class="nav-item nav-link">Enquiries My Property</a>


                    </div>
                </div>
            </div>

        </nav>
    </div>


    <div class="container-fluid page-header-form  wow fadeIn" data-wow-delay="0.1s">
        <div class="container text-center">
            <h1 class="display-4  animated slideInDown mb-4">Register with us</h1>

        </div>
    </div>


    <div class="container pb-5">
        <div class=" align-items-start ">
            <div class=" col-lg-6 mb-5">
                <div id="emailError" style="color: rgb(233, 73, 73);"></div>
                <form class="form active" id="login" action="authentication.php" onsubmit="return validateForm()"
                    method="POST">
                    <h2 class="login-h2">Login</h2>
                    <label for="email">Email Address <span class="required">*</span></label>
                    <div class="pass-reset" onclick="activeInput(this)">
                        <input type="email" name="email" class="email" id="emailInput" placeholder="name@mail.com"
                            required>
                    </div>
                    <label for="password">Password <span class="required">*</span> </label>
                    <div class="pass-reset" onclick="activeInput(this)">
                        <input type="password" class="password" name="password" id="password" placeholder="**********"
                            required>
                        <a href="forgatePass.html" class="reset-password">Forget Password</a>
                    </div>
                    <div class="pass-reset remember-box">
                        <input type="checkbox" name="remember" class="remember" id="remember"><span
                            class="remember-text">Rememeber Password</span>
                    </div>
                    <!-- <div class="primary-checkbox-container margin_bottom_2_rem">
                            <input class="primary-checkbox" type="checkbox" required>
                            <div class="primary-checkbox-description color_toast font_size_small">I agree to the <a
                                    class="font_size_small color_primary"
                                    href="https://www.agrocorp.co.in/privacy-policy" target="_blank">Privacy Policy</a>.
                            </div>
                        </div> -->
                    <button class="btn btn-login">Login</button>
                    <p>Don't have an account? <a onclick="changeToRegister()" id="changeToRegister">Sign up</a></p>
                    <p class="or">or</p>
                    <div style="display:inline-flex;" class="mx-auto">
                        <button class="btn  btn-primary btn-lg-square" onclick="performGoogleLogin()"><i
                                class='fab fa-google'></i>
                        </button>&nbsp;&nbsp;
                        <button id="login-button" class="btn  btn-primary btn-lg-square"
                            onclick="performFacebookLogin()"><i class="fab fa-facebook-f"></i>
                        </button>&nbsp;&nbsp;

                        <button class="btn  btn-primary btn-lg-square"><i class='fab fa-instagram'></i>
                        </button>&nbsp;&nbsp;
                        <button class="btn  btn-primary btn-lg-square"><i class='fab fa-twitter'></i>
                        </button>&nbsp;&nbsp;
                        <button class="btn  btn-primary btn-lg-square"><i class='fab fa-linkedin'></i>
                        </button>
                    </div>
                </form>

                <form class="form" id="register" action="authentication.php" onsubmit="return validateForm()"
                    method="POST">
                    <h2 class="login-h2">Register</h2>
                    <label for="name">Your Name <span class="required">*</span></label>
                    <div class="pass-reset">
                        <input type="text" name="name" class="name" id="nameInput" placeholder="Your Name"
                            onkeypress="return isCharacterKey(event)" required pattern="[A-Za-z  ]+" maxlength="80">
                    </div>


                    <label for="phone">Your Phone Number <span class="required">*</span> </label>
                    <div class="pass-reset" onclick="activeInput(this)">
                        <input type="text" name="phone" class="phone" id="phoneInput"
                            placeholder="Enter Your Phone Number" onkeypress="return isNumberKey(event)" required
                            pattern="[0-9]+" maxlength="10">
                    </div>
                    <label for="email">Email Address <span class="required">*</span> </label>
                    <div class="pass-reset" onclick="activeInput(this)">
                        <input type="email" name="email" class="email" id="emailInput1" placeholder="name@mail.com"
                            required oninput="validateEmail()">
                        <div class="error-message"></div>

                    </div>
                    <label for="password">Password <span class="required">*</span> </label>
                    <div class="pass-reset" onclick="activeInput(this)">
                        <input type="password" class="password" name="password" id="password1" placeholder="**********"
                            required>
                    </div>
                    <label for="re-password">Re-Password <span class="required">*</span> </label>
                    <div class="pass-reset" onclick="activeInput(this)">
                        <input type="password" class="password" name="re-password" id="re-password"
                            placeholder="**********" required>
                    </div>
                    <div id="error-message" style="color: red;"></div>
                    <label for="">OTP <span class="required">*</span> </label>
                    <div class="pass-reset">
                        <input type="text" class="password" name="" id="sendOtp" placeholder="" required>
                        <a href="#" class="reset-password" id="sendotpbutton" required>Send OTP</a>
                    </div>
                    <!-- <button class="btn btn-login">Register</button> -->
                    <button class="btn btn-login" onclick="return validatePassword();">Register</button>

                    <p>Do you have an account? <a onclick="changeToLogin()" id="chnageToLogin">Sign in</a></p>
                    <p class="or">or</p>
                    <div style="display:inline-flex;" class="mx-auto">
                        <button class="btn  btn-primary btn-lg-square"><i class="fab fa-facebook-f"></i>
                        </button>&nbsp;&nbsp;
                        <button class="btn  btn-primary btn-lg-square"><i class='fab fa-google'></i>
                        </button>&nbsp;&nbsp;
                        <button class="btn  btn-primary btn-lg-square"><i class='fab fa-instagram'></i>
                        </button>&nbsp;&nbsp;
                        <button class="btn  btn-primary btn-lg-square"><i class='fab fa-twitter'></i>
                        </button>&nbsp;&nbsp;
                        <button class="btn  btn-primary btn-lg-square"><i class='fab fa-linkedin'></i>
                        </button>
                    </div>
                </form>
            </div>


        </div>

    </div>

   <!-- Footer Start -->
   <div class="container-fluid bg-dark-1 text-white footer mt-5  wow fadeIn" data-wow-delay="0.1s">
    <div class="container ">
        <div class="row g-5" style="font-size:12px !important;">
            <div class="col-lg-3 col-md-6">
                <div class=" pt-1">
                    <h3 class="text-light mb-4">Corporate Office</h3>
                    <p>
                        1st Floor, 90, BELLARY ROAD, BYATARAYANPURA,<br> Bengaluru (Bangalore) Urban, Karnataka,
                        560092</p><br>
                    <i class="fa fa-phone-alt me-3"></i>Enquiries: (+91) 9540 03 0303<br>
                    <i class="fa fa-envelope me-3"></i>info@landshareindia.com</p>
                </div>
                <div class="d-flex pt-2">
                    <a class="btn btn-square me-1" target="_blank" href="https://www.facebook.com/landshareindia"><i
                            class="fab fa-facebook-f"></i></a>
                    <a class="btn btn-square me-1" target="_blank"
                        href="https://www.youtube.com/channel/UCN1Y1BSKrRyCkrroPSqAPaw"><i
                            class="fab fa-youtube"></i></a>
                    <a class="btn btn-square me-1" target="_blank"
                        href="https://www.linkedin.com/company/90611397/admin/feed/posts/"><i
                            class="fab fa-linkedin-in"></i></a>
                    <a class="btn btn-square me-0" target="_blank"
                        href="https://www.instagram.com/landshare.india"><i class='fab fa-instagram'></i></a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 ">
                <h3 class="text-light mb-4">Our Companies</h3>
                <p>Landshare India Private Limited<br>
                    Agrocorp Landbase Private Limited<br>
                    Agrocorp Landshare India Private Limited<br>

                    Logical Farmer Private Limited<br>
                    ALPL One Private Limited</p>
            </div>
            <div class="col-lg-3 col-md-6 text-white">
                <h3 class="text-light mb-4">What we do</h3>
                <p><a href="farm-communities" style="color:#fff !important;" target="_blank">Land Acquisition &
                        Sale</a><br>
                    <a href="landshare" style="color:#fff !important;" target="_blank">Transaction Advisory
                        Services</a><br>
                    <a href="residential" style="color:#fff !important;" target="_blank">Asset Management
                        Services</a><br>
                    <a href="residential" style="color:#fff !important;" target="_blank">Title Due Diligence</a><br>
                    <a href="residential" style="color:#fff !important;" target="_blank">Prime & Opulent Investment
                        Locations</a><br>
                    <a href="residential" style="color:#fff !important;" target="_blank">Legal & Policy Research</a>
                </p>

            </div>
            <div class="col-lg-3 col-md-6">
                <h3 class="text-light mb-4">Quick Links</h3>
                <p><a href="https://www.agrocorp.co.in" style="color:#fff !important;">Home</a><br>
                    <a href="about" style="color:#fff !important;">Know Us</a><br>
                    <a href="https://landshareindia.com/demo/what-we-offer.html" style="color:#fff !important;">What
                        We Do</a><br>
                    <a href="https://landshareindia.com/demo/investing-opportunity.html"
                        style="color:#fff !important;">Investment Opportunitiess</a><br>
                    <a href="https://landshareindia.com/demo/media.html" style="color:#fff !important;">Press
                        Room</a><br>
                    <a href="https://landshareindia.com/demo/clients.html" style="color:#fff !important;">Our
                        Clients</a><br>
                    <a href="contact" style="color:#fff !important;">Contact Us</a><br>
                    <a href="faq" style="color:#fff !important;">FAQ</a><br>
                    <a href="privacy-policy" style="color:#fff !important;">Privacy Policy</a><br>
                    <a href="disclaimer" style="color:#fff !important;">Disclaimer</a><br>
                    <a href="sitemap" style="color:#fff !important;">Sitemap</a>
                </p>


            </div>
        </div>
    </div>

    <div class="container-fluid copyright">
        <div class="container">
            <div class="row">
                <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                    &copy; <a class="border-bottom" href="https://www.landshareindia.com"
                        style="color:white !important;">Landshare India Pvt. Ltd</a>, All Right Reserved.
                </div>

            </div>
        </div>
    </div>
</div>
<!-- Footer End -->


<!-- Back to Top -->
<!-- <a href="#" class="btn btn-lg btn-primarybtn-lg-square back-to-top"><img src="img/agrocorp-logo-fav.gif"
        style="width:30px;"></a> -->
<span class=" back-to-top" style="display: inline;">
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top" style=""><i class="bi bi-arrow-up"></i></a>
</span>


    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/parallax/parallax.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <script src="js/login-script.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>
        window.fbAsyncInit = function () {
            FB.init({
                appId: '1351807122090160',
                autoLogAppEvents: true,
                xfbml: true,
                version: 'v13.0' // Use the latest available version
            });
        };
    </script>
    <script async defer src="https://connect.facebook.net/en_US/sdk.js"></script>
    <script>
        var circle = document.getElementById('circle')
        function validateForm() {
            var nameInput = document.getElementById("nameInput").value;

        }
        $(document).ready(function () {
            $("#contact-form").on("submit", function (e) {
                e.preventDefault();
                if ($("#contact-form [name='your_name']").val() === '') {
                    $("#contact-form [name='your_name']").css("border", "1px solid red");
                }
                else if ($("#contact-form [name='your_email']").val() === '') {
                    $("#contact-form [name='your_email']").css("border", "1px solid red");
                }
                else {
                    $("#loading-img").css("display", "block");
                    var sendData = $(this).serialize();
                    $.ajax({
                        type: "POST",
                        url: "get_response.php",
                        data: sendData,
                        success: function (data) {
                            $("#loading-img").css("display", "none");
                            $(".response_msg").text(data);
                            $(".response_msg").slideDown().fadeOut(3000);
                            $("#contact-form").find("input[type=text], input[type=email], textarea").val("");
                        }
                    });
                }
            });
            $("#contact-form input").blur(function () {
                var checkValue = $(this).val();
                if (checkValue != '') {
                    $(this).css("border", "1px solid #eeeeee");
                }
            });
        });
    </script>
    <script>

        function performGoogleLogin() {
            window.open('http://localhost:5000/auth/google');

        }
        function performFacebookLogin() {
            window.open('http://localhost:5000/api/auth/facebook');

        }

        $(document).ready(function () {
            $('#google-login-btn').click(function () {
                // Handle Google login here
            });

            $('#login').submit(function (e) {
                e.preventDefault();
                loginUser();
            });

            function loginUser() {
                const email = $('#emailInput').val();
                const password = $('#password').val();
                const userCredentials = {
                    email: email,
                    password: password
                };

                $.ajax({
                    url: apiUrl + '/login',
                    type: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(userCredentials),
                    success: function (data) {
                        if (data.success) {
                            Swal.fire({
                                icon: 'success',
                                title: 'Success',
                                text: data.message
                            }).then(function () {
                                window.location.href = 'otp.html';
                            });
                        } else {
                            Swal.fire({
                                icon: 'error',
                                title: 'Error',
                                text: data.error
                            });
                        }
                    },
                    error: function () {
                        Swal.fire({
                            icon: 'error',
                            title: 'Error',
                            text: 'An error occurred.'
                        });
                    }
                });
            }

            $('#register').submit(function (e) {
                e.preventDefault();
                registerUser();
            });

            function registerUser() {
                const name = $('#nameInput').val();
                const email = $('#emailInput1').val();
                const password = $('#password1').val();
                const phone = $('#phoneInput').val();
                const otp = $('#sendOtp').val();

                const userData = {
                    name: name,
                    email: email,
                    password: password,
                    mobile_number: phone,
                    otp: otp
                };

                $.ajax({
                    url: apiUrl + '/signUp',
                    type: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(userData),
                    success: function (data) {
                        if (data.success == true) {
                            Swal.fire({
                                title: 'Success!',
                                text: data.message,
                                icon: 'success'
                            }).then(function () {
                                window.location.href = 'login-form.html';
                            });
                        } else {
                            Swal.fire({
                                title: 'Error!',
                                text: data.error,
                                icon: 'error'
                            });
                        }
                    },
                    error: function (error) {
                        Swal.fire({
                            title: 'Error!',
                            text: error,
                            icon: 'error'
                        });
                    }
                });
            }

            $('#sendotpbutton').click(function (e) {
                e.preventDefault();
                const email = $('#emailInput1').val();
                function validateEmail(email) {
                    var emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
                    return emailRegex.test(email);
                }
                if (!validateEmail(email)) {
                    Swal.fire({
                        icon: 'error',
                        title: 'Error',
                        text: 'Please enter a valid email address.'
                    });
                    return; // Stop execution if email is invalid
                }

                const emailData = {
                    email: email
                };

                $.ajax({
                    url: apiUrl + '/Otpsent',
                    type: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(emailData),
                    success: function (data) {
                        if (data.status == true) {
                            Swal.fire({
                                icon: 'success',
                                title: 'Success',
                                text: data.msg
                            });
                        } else {
                            Swal.fire({
                                icon: 'error',
                                title: 'Error',
                                text: data.error
                            });
                        }
                    },
                    error: function () {
                        Swal.fire({
                            icon: 'error',
                            title: 'Error',
                            text: 'An error occurred.'
                        });
                    }
                });
            });

            function isNumberKey(evt) {
                var charCode = (evt.which) ? evt.which : evt.keyCode;
                var inputValue = evt.target.value + String.fromCharCode(charCode);

                if (charCode > 31 && (charCode < 48 || charCode > 57)) {
                    return false;
                }
                if (inputValue.length === 1 && (charCode === 48 || charCode === 49 || charCode === 50 || charCode === 51 || charCode === 52 || charCode === 53)) {
                    return false; // Disallow starting with 0, 1, 2, 3, 4, or 5
                }
                return true;
            }

            $('#emailInput1').on('input', validateEmail);

            function validateEmail() {
                var emailInput = $('#emailInput1');
                var email = emailInput.val();
                var errorContainer = emailInput.parent().find('.error-message');

                var emailRegex = /^[a-zA-Z0-9._-]+@[a-zAZ0-9.-]+\.[a-zA-Z]{2,4}$/;

                if (!email) {
                    errorContainer.text('');
                } else if (!email.match(emailRegex)) {
                    errorContainer.text('Invalid');
                    errorContainer.addClass('error-text');
                } else {
                    errorContainer.text('');
                }
            }

            function isCharacterKey(evt) {
                var charCode = (evt.which) ? evt.which : evt.keyCode;
                if ((charCode >= 65 && charCode <= 90) || (charCode >= 97 && charCode <= 122)) {
                    return true;
                }
                return false;
            }

            const passwordInput = $('#password1');
            const rePasswordInput = $('#re-password');

            const errorMessage = $('#error-message');
            rePasswordInput.on('input', checkPasswordMatch);

            function checkPasswordMatch() {
                const password = passwordInput.val();
                const rePassword = rePasswordInput.val();

                if (password === rePassword) {
                    errorMessage.text('');
                } else {
                    errorMessage.text('Passwords not match');
                }
            }
        });
        function sendDataToServer(userData) {
           console.log(userData);
            $.ajax({
                type: 'POST',
                url: '/storeUserData', // Replace with your server endpoint
                data: JSON.stringify(userData),
                contentType: 'application/json',
                success: function (response) {
                    // Handle the response from the server (e.g., success message or error handling)
                    console.log(response);
                },
                error: function (xhr, status, error) {
                    // Handle errors, e.g., display an error message to the user
                    console.error(error);
                }
            });
        }

        document.getElementById('login-button').addEventListener('click', function () {
            FB.login(function (response) {
                if (response.status === 'connected') {
                    // User is logged in and has granted permissions
                    const accessToken = response.authResponse.accessToken;

                    // Use the access token to fetch user data
                    FB.api('/me', { fields: 'id, name, email' }, function (userData) {
                        // Send userData to your server for database storage
                        sendDataToServer(userData);
                    });
                }
            }, { scope: 'email' }); // Specify the required permissions
        });

    </script>
</body>

</html>